(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{743:function(t,e,o){var i=o(771);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("4a951b27",i,!0,{})},744:function(t,e,o){var i=o(773);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("db89ac60",i,!0,{})},745:function(t,e,o){var i=o(775);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("f461ed6c",i,!0,{})},746:function(t,e,o){var i=o(777);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("0d3e136f",i,!0,{})},747:function(t,e,o){var i=o(781);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("85e17934",i,!0,{})},748:function(t,e,o){var i=o(783);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("2553feb7",i,!0,{})},749:function(t,e,o){var i=o(785);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("a6695308",i,!0,{})},750:function(t,e,o){var i=o(789);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("3a3822f2",i,!0,{})},751:function(t,e,o){var i=o(791);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("3bd3a4b5",i,!0,{})},752:function(t,e,o){var i=o(793);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("3dc98dde",i,!0,{})},753:function(t,e,o){var i=o(795);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("1b68140c",i,!0,{})},754:function(t,e,o){var i=o(797);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("3de84266",i,!0,{})},755:function(t,e,o){var i=o(799);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("495ba9b2",i,!0,{})},756:function(t,e,o){var i=o(801);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("b4946d3c",i,!0,{})},757:function(t,e,o){var i=o(803);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("256d260e",i,!0,{})},758:function(t,e,o){var i=o(805);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("7f73c7cc",i,!0,{})},759:function(t,e,o){var i=o(807);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("30f9ff65",i,!0,{})},760:function(t,e,o){var i=o(809);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("95f60f82",i,!0,{})},761:function(t,e,o){var i=o(811);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("77166842",i,!0,{})},762:function(t,e,o){var i=o(813);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45).default)("5dee7314",i,!0,{})},770:function(t,e,o){"use strict";var i=o(743);o.n(i).a},771:function(t,e,o){(e=o(44)(!1)).push([t.i,"\n.subscription[data-v-79f0af20] {\n\tmargin: 8px 0;\n}\n",""]),t.exports=e},772:function(t,e,o){"use strict";var i=o(744);o.n(i).a},773:function(t,e,o){(e=o(44)(!1)).push([t.i,".participants-list[data-v-f67c5b8a]{margin:8px 0;padding-right:24px}.participants[data-v-f67c5b8a]{display:flex;justify-content:flex-start}.participants .user-row[data-v-f67c5b8a]{display:block;flex:0}.participants .user[data-v-f67c5b8a]{padding:0}\n",""]),t.exports=e},774:function(t,e,o){"use strict";var i=o(745);o.n(i).a},775:function(t,e,o){(e=o(44)(!1)).push([t.i,".poll-description[data-v-a30a1e70]{white-space:break-spaces;margin:8px 0}\n",""]),t.exports=e},776:function(t,e,o){"use strict";var i=o(746);o.n(i).a},777:function(t,e,o){(e=o(44)(!1)).push([t.i,".pollTitle[data-v-554b0810]{margin:8px 0}\n",""]),t.exports=e},780:function(t,e,o){"use strict";var i=o(747);o.n(i).a},781:function(t,e,o){(e=o(44)(!1)).push([t.i,".voteHeader[data-v-c4259778]{margin:8px 24px}.modal__content[data-v-c4259778]{padding:14px;display:flex;flex-direction:column}.modal__content input[data-v-c4259778]{width:100%}.personal-link[data-v-c4259778]{display:flex;padding:4px 12px;margin:0 12px 0 24px;border:2px solid var(--color-success);background-color:#d6fdda !important;border-radius:var(--border-radius);font-size:1.2em;opacity:0.8}.personal-link .icon[data-v-c4259778]{margin:0 12px}.getUsername[data-v-c4259778]{margin:0 12px 12px 24px;border:2px solid var(--color-border-dark);font-size:1.2em;padding:0 12px 0 12px;display:flex;align-items:center;border-radius:var(--border-radius);background-color:var(--color-background-dark);flex-wrap:wrap}.getUsername>label[data-v-c4259778]{margin-right:12px}.getUsername form[data-v-c4259778],.getUsername div[data-v-c4259778]{flex:1;display:flex}.getUsername input[data-v-c4259778]{flex:1}.getUsername .icon-loading-small[data-v-c4259778]{position:relative;right:24px;top:0px}.getUsername input[type='text']+.icon-confirm[data-v-c4259778],.getUsername input[type='text']+.icon-loading-small[data-v-c4259778]{flex:0;margin-left:-8px !important;border-left-color:transparent !important;border-radius:0 var(--border-radius) var(--border-radius) 0 !important;background-clip:padding-box;opacity:1;height:34px;width:34px;padding:7px 20px;cursor:pointer;margin-right:0}\n",""]),t.exports=e},782:function(t,e,o){"use strict";var i=o(748);o.n(i).a},783:function(t,e,o){(e=o(44)(!1)).push([t.i,".poll-item{display:flex;align-items:center;padding-left:8px;padding-right:8px;line-height:2em;min-height:4em;overflow:hidden;white-space:nowrap}.poll-item:active,.poll-item:hover{transition:var(--background-dark) 0.3s ease;background-color:var(--color-background-dark)}.poll-item>div{display:flex;flex:1;font-size:1.2em;opacity:0.7;white-space:normal;padding-right:4px}.poll-item>div.avatar{flex:0}.poll-item .action{justify-content:center;flex:0 0}\n",""]),t.exports=e},784:function(t,e,o){"use strict";var i=o(749);o.n(i).a},785:function(t,e,o){(e=o(44)(!1)).push([t.i,".config-box{display:flex;flex-direction:column;padding:8px}.config-box>*{padding-left:21px}.config-box>input{margin-left:24px;width:auto}.config-box>textarea{margin-left:24px;width:auto;padding:7px 6px}.config-box>.title{display:flex;background-position:0 2px;padding-left:24px;opacity:0.7;font-weight:bold;margin-bottom:4px}.config-box>.title>span{padding-left:4px}.config-box.poll-table>li{border-bottom-color:#484848;margin-left:18px}\n",""]),t.exports=e},788:function(t,e,o){"use strict";var i=o(750);o.n(i).a},789:function(t,e,o){(e=o(44)(!1)).push([t.i,"\nsvg[data-v-2171ba32] {\n\tdisplay: inline-block;\n\tvertical-align: baseline;\n\tmargin-bottom: -2px;\n}\n",""]),t.exports=e},790:function(t,e,o){"use strict";var i=o(751);o.n(i).a},791:function(t,e,o){(e=o(44)(!1)).push([t.i,".poll-item{display:flex;align-items:center;padding-left:8px;padding-right:8px;line-height:2em;min-height:4em;overflow:hidden;white-space:nowrap}.poll-item:active,.poll-item:hover{transition:var(--background-dark) 0.3s ease;background-color:var(--color-background-dark)}.poll-item>div{display:flex;flex:1;font-size:1.2em;opacity:0.7;white-space:normal;padding-right:4px}.poll-item>div.avatar{flex:0}.poll-item .order{flex:0 0;justify-content:flex-end;padding-right:8px}.poll-item .handle{margin-right:8px}.poll-item .action{justify-content:center;flex:0 0}\n",""]),t.exports=e},792:function(t,e,o){"use strict";var i=o(752);o.n(i).a},793:function(t,e,o){(e=o(44)(!1)).push([t.i,".input-div[data-v-7d1f22cd]{display:flex}.input[data-v-7d1f22cd]{flex:1}.input[data-v-7d1f22cd]:empty:before{color:grey}.submit[data-v-7d1f22cd]{width:30px;background-color:transparent;border:none;opacity:0.3;cursor:pointer}\n",""]),t.exports=e},794:function(t,e,o){"use strict";var i=o(753);o.n(i).a},795:function(t,e,o){(e=o(44)(!1)).push([t.i,".draggable *{cursor:move;cursor:grab}.draggable *:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.draggable .handle{visibility:hidden}.draggable:hover>.handle{visibility:visible}.config-box.poll-table .poll-item{border-bottom:1px solid var(--color-border)}.optionAdd{display:flex}.newOption{margin-left:40px;flex:1}.newOption:empty:before{color:grey}.submit-option{width:30px;background-color:transparent;border:none;opacity:0.3;cursor:pointer}\n",""]),t.exports=e},796:function(t,e,o){"use strict";var i=o(754);o.n(i).a},797:function(t,e,o){(e=o(44)(!1)).push([t.i,".comment[data-v-7ff032ac]{margin-bottom:30px}.comment .addComment[data-v-7ff032ac]{margin-left:40px}.icon-loading-small[data-v-7ff032ac]{float:left;margin-top:10px}\n",""]),t.exports=e},798:function(t,e,o){"use strict";var i=o(755);o.n(i).a},799:function(t,e,o){(e=o(44)(!1)).push([t.i,".comments[data-v-65ef1236]{margin:8px 0;padding-right:12px}#emptycontent[data-v-65ef1236],.emptycontent[data-v-65ef1236]{margin-top:0}ul>li[data-v-65ef1236]{margin-bottom:30px}ul>li>.comment-item[data-v-65ef1236]{display:flex;align-items:center}ul>li>.comment-item>.date[data-v-65ef1236]{right:0;top:5px;opacity:0.5}ul>li>.message[data-v-65ef1236]{margin-left:53px;flex:1 1}\n",""]),t.exports=e},800:function(t,e,o){"use strict";var i=o(756);o.n(i).a},801:function(t,e,o){(e=o(44)(!1)).push([t.i,".shared-list{display:flex;flex-wrap:wrap;flex-direction:column;justify-content:flex-start;padding-top:8px}.shared-list>li{display:flex;align-items:stretch;margin:4px 0}.options{display:flex}.options .icon:not(.hidden){padding:14px;height:44px;width:44px;opacity:.5;display:block;cursor:pointer}.multiselect{width:100% !important;max-width:100% !important}\n",""]),t.exports=e},802:function(t,e,o){"use strict";var i=o(757);o.n(i).a},803:function(t,e,o){(e=o(44)(!1)).push([t.i,".config-box{display:flex;flex-direction:column;padding:8px}.config-box>*{padding-left:21px}.config-box>input{margin-left:24px;width:auto}.config-box>textarea{margin-left:24px;width:auto;padding:7px 6px}.config-box>.title{display:flex;background-position:0 2px;padding-left:24px;opacity:0.7;font-weight:bold;margin-bottom:4px}.config-box>.title>span{padding-left:4px}\n",""]),t.exports=e},804:function(t,e,o){"use strict";var i=o(758);o.n(i).a},805:function(t,e,o){(e=o(44)(!1)).push([t.i,".vote-table-item{height:43px;display:flex;width:85px;align-items:center;background-color:var(--color-background-dark);color:var(--color-main-text)}.vote-table-item>.icon{margin:auto;background-position:center;background-repeat:no-repeat;background-image:var(--icon-close-000);min-width:40px;min-height:40px;width:40px;height:40px;background-size:90%;flex:0 0 auto}.vote-table-item.yes{background-color:#ebf5d6;color:#49bc49}.vote-table-item.yes>.icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Im0yLjM1IDcuMyA0IDRsNy4zLTcuMyIgc3Ryb2tlPSIjNDliYzQ5IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz48L3N2Zz4K)}.vote-table-item.no{background-color:#ffede9;color:#f45573}.vote-table-item.no>.icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIgdmVyc2lvbj0iMS4xIiB2aWV3Ym94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Im0xNCAxMi4zLTEuNyAxLjctNC4zLTQuMy00LjMgNC4zLTEuNy0xLjcgNC4zLTQuMy00LjMtNC4zIDEuNy0xLjcgNC4zIDQuMyA0LjMtNC4zIDEuNyAxLjctNC4zIDQuM3oiIGZpbGw9IiNmNDU1NzMiLz48L3N2Zz4K)}.vote-table-item.maybe{background-color:#fcf7e1;color:#f0db98}.vote-table-item.maybe>.icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9InN2ZzQiCiAgIHZlcnNpb249IjEuMSIKICAgd2lkdGg9IjE2IgogICBoZWlnaHQ9IjE2IgogICBzb2RpcG9kaTpkb2NuYW1lPSJtYXliZS12b3RlLXZhcmlhbnQuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjIgKDVjM2U4MGQsIDIwMTctMDgtMDYpIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNyIKICAgICBpZD0ibmFtZWR2aWV3NiIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMTQuNzUiCiAgICAgaW5rc2NhcGU6Y3g9IjgiCiAgICAgaW5rc2NhcGU6Y3k9IjE0Ljg2NTIwMSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnNCI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ4MzYiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTAiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM4IiAvPgogIDx0ZXh0CiAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxNS4wMDY0OTA3MXB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMDIzMTY5NzYiCiAgICAgeD0iLTAuODAzNjg5NDgiCiAgICAgeT0iMTIuNTU5MzEyIgogICAgIGlkPSJ0ZXh0ODE4IgogICAgIHRyYW5zZm9ybT0ic2NhbGUoMS4wOTAxOSwwLjkxNzI3MTMpIj48dHNwYW4KICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiCiAgICAgICBpZD0idHNwYW44MTYiCiAgICAgICB4PSItMC44MDM2ODk0OCIKICAgICAgIHk9IjEyLjU1OTMxMiIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MTQuNjY2NjY2OThweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuMDIzMTY5NzYiPig8L3RzcGFuPjwvdGV4dD4KICA8dGV4dAogICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6NDAuOTI3MTQzMXB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMDIzMTc4NDYiCiAgICAgeD0iOS45NjMwNDQyIgogICAgIHk9IjEyLjQ3ODk0NSIKICAgICBpZD0idGV4dDgyOCIKICAgICB0cmFuc2Zvcm09InNjYWxlKDEuMDkwMTk5MywwLjkxNzI2MzQ4KSI+PHRzcGFuCiAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgaWQ9InRzcGFuODI2IgogICAgICAgeD0iOS45NjMwNDQyIgogICAgICAgeT0iMTIuNDc4OTQ1IgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNC42NjY2NjY5OHB4O2ZpbGw6I2ZmYzEwNztmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MS4wMjMxNzg0NiI+KTwvdHNwYW4+PC90ZXh0PgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBkPSJtIDExLjkyNCw0LjA2NTk5OTIgLTQuOTMyMDAwMSw0Ljk3IC0yLjgyOCwtMi44MyBMIDIuNzUsNy42MTc5OTkyIDYuOTkxOTk5OSwxMS44NjEgMTMuMzU3LDUuNDk1OTk5MiBsIC0xLjQzMywtMS40MzIgeiIKICAgICBpZD0icGF0aDgxNiIKICAgICBzdHlsZT0iZmlsbDojZmZjMTA3O2ZpbGwtb3BhY2l0eToxIiAvPgo8L3N2Zz4K)}.vote-table-item.active{background-color:var(--color-main-background)}.vote-table-item.active>.icon{cursor:pointer;border:2px solid;border-radius:var(--border-radius)}.vote-table-item.active:active{box-shadow:inherit}@media (max-width: 480px){.vote-table-item{border-top:1px solid var(--color-border-dark)}.vote-table-item.active{width:10vw;height:10vw}}\n",""]),t.exports=e},806:function(t,e,o){"use strict";var i=o(759);o.n(i).a},807:function(t,e,o){(e=o(44)(!1)).push([t.i,".poll-item[data-v-79a58059]{flex:3}.vote-item[data-v-79a58059]{flex:0}.counter[data-v-79a58059]{display:flex;width:80px;flex:1}.counter>*[data-v-79a58059]{text-align:center;border-radius:21px;margin:2px}.counter .yes[data-v-79a58059]{background-color:#ebf5d6}.counter .maybe[data-v-79a58059]{background-color:#f0db98}.counter .no[data-v-79a58059]{background-color:#f45573}.vote-list[data-v-79a58059]{margin:44px 0;display:flex;flex:0;flex-direction:column;justify-content:flex-start;overflow:scroll}.vote-list .vote-row[data-v-79a58059]{display:flex;justify-content:space-around;flex:1;align-items:center;border-bottom:1px solid var(--color-border)}.vote-list .vote-row[data-v-79a58059]:active,.vote-list .vote-row[data-v-79a58059]:hover{transition:var(--background-dark) 0.3s ease;background-color:var(--color-background-dark)}.vote-list .vote-row .vote-table-item[data-v-79a58059]{flex:0}.vote-list .vote-row>li[data-v-79a58059]{display:flex;align-items:center;padding-left:8px;padding-right:8px;line-height:2em;min-height:4em;overflow:hidden}\n",""]),t.exports=e},808:function(t,e,o){"use strict";var i=o(760);o.n(i).a},809:function(t,e,o){(e=o(44)(!1)).push([t.i,".vote-header[data-v-be769e46]{display:flex;flex-direction:column}.vote-header.winner[data-v-be769e46]{font-weight:bold;color:#49bc49}.counter[data-v-be769e46]{flex:0;display:flex;justify-content:center;font-size:18px;height:88px;padding:14px 4px}.counter>*[data-v-be769e46]{background-position:0px 2px;padding-left:23px;background-repeat:no-repeat;background-size:contain;margin-right:8px}.counter .yes[data-v-be769e46]{color:#49bc49;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Im0yLjM1IDcuMyA0IDRsNy4zLTcuMyIgc3Ryb2tlPSIjNDliYzQ5IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz48L3N2Zz4K)}.counter .no[data-v-be769e46]{color:#f45573;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIgdmVyc2lvbj0iMS4xIiB2aWV3Ym94PSIwIDAgMTYgMTYiPjxwYXRoIGQ9Im0xNCAxMi4zLTEuNyAxLjctNC4zLTQuMy00LjMgNC4zLTEuNy0xLjcgNC4zLTQuMy00LjMtNC4zIDEuNy0xLjcgNC4zIDQuMyA0LjMtNC4zIDEuNyAxLjctNC4zIDQuM3oiIGZpbGw9IiNmNDU1NzMiLz48L3N2Zz4K)}.counter .maybe[data-v-be769e46]{color:#ffc107;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9InN2ZzQiCiAgIHZlcnNpb249IjEuMSIKICAgd2lkdGg9IjE2IgogICBoZWlnaHQ9IjE2IgogICBzb2RpcG9kaTpkb2NuYW1lPSJtYXliZS12b3RlLXZhcmlhbnQuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjIgKDVjM2U4MGQsIDIwMTctMDgtMDYpIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNyIKICAgICBpZD0ibmFtZWR2aWV3NiIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMTQuNzUiCiAgICAgaW5rc2NhcGU6Y3g9IjgiCiAgICAgaW5rc2NhcGU6Y3k9IjE0Ljg2NTIwMSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnNCI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ4MzYiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTAiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM4IiAvPgogIDx0ZXh0CiAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxNS4wMDY0OTA3MXB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMDIzMTY5NzYiCiAgICAgeD0iLTAuODAzNjg5NDgiCiAgICAgeT0iMTIuNTU5MzEyIgogICAgIGlkPSJ0ZXh0ODE4IgogICAgIHRyYW5zZm9ybT0ic2NhbGUoMS4wOTAxOSwwLjkxNzI3MTMpIj48dHNwYW4KICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiCiAgICAgICBpZD0idHNwYW44MTYiCiAgICAgICB4PSItMC44MDM2ODk0OCIKICAgICAgIHk9IjEyLjU1OTMxMiIKICAgICAgIHN0eWxlPSJmb250LXNpemU6MTQuNjY2NjY2OThweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjEuMDIzMTY5NzYiPig8L3RzcGFuPjwvdGV4dD4KICA8dGV4dAogICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6NDAuOTI3MTQzMXB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiNmZmMxMDc7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMDIzMTc4NDYiCiAgICAgeD0iOS45NjMwNDQyIgogICAgIHk9IjEyLjQ3ODk0NSIKICAgICBpZD0idGV4dDgyOCIKICAgICB0cmFuc2Zvcm09InNjYWxlKDEuMDkwMTk5MywwLjkxNzI2MzQ4KSI+PHRzcGFuCiAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgaWQ9InRzcGFuODI2IgogICAgICAgeD0iOS45NjMwNDQyIgogICAgICAgeT0iMTIuNDc4OTQ1IgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNC42NjY2NjY5OHB4O2ZpbGw6I2ZmYzEwNztmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MS4wMjMxNzg0NiI+KTwvdHNwYW4+PC90ZXh0PgogIDxwYXRoCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICBkPSJtIDExLjkyNCw0LjA2NTk5OTIgLTQuOTMyMDAwMSw0Ljk3IC0yLjgyOCwtMi44MyBMIDIuNzUsNy42MTc5OTkyIDYuOTkxOTk5OSwxMS44NjEgMTMuMzU3LDUuNDk1OTk5MiBsIC0xLjQzMywtMS40MzIgeiIKICAgICBpZD0icGF0aDgxNiIKICAgICBzdHlsZT0iZmlsbDojZmZjMTA3O2ZpbGwtb3BhY2l0eToxIiAvPgo8L3N2Zz4K)}.text-box[data-v-be769e46]{flex:1 0;height:44px;align-self:center;font-size:1.4em;padding-top:14px;hyphens:auto}.date-box[data-v-be769e46]{display:flex;flex-direction:column;flex:1 0;padding:0 2px;align-items:center;justify-content:center}.date-box .month[data-v-be769e46],.date-box .dow[data-v-be769e46]{font-size:1.2em;color:var(--color-text-lighter)}.date-box .day[data-v-be769e46]{font-size:1.8em;margin:5px 0 5px 0}@media (max-width: 480px){.vote-header[data-v-be769e46]{padding:4px 0;display:flex;flex-direction:row;justify-content:space-around;border-top:1px solid var(--color-border-dark)}.vote-header .date-box[data-v-be769e46]{padding:0 20px 0 4px;align-content:center}.vote-header .counter[data-v-be769e46]{flex-direction:column;align-items:baseline}.vote-header .counter>*[data-v-be769e46]{margin:4px 1px}}\n",""]),t.exports=e},810:function(t,e,o){"use strict";var i=o(761);o.n(i).a},811:function(t,e,o){(e=o(44)(!1)).push([t.i,".user-row.sticky[data-v-c0f0eeea],.header>.sticky[data-v-c0f0eeea]{position:sticky;left:0;background-color:var(--color-main-background);width:170px;flex:0 0 auto}.header[data-v-c0f0eeea]{height:150px}.user[data-v-c0f0eeea]{height:44px;padding:0 17px}.vote-table[data-v-c0f0eeea]{margin:44px 0;display:flex;flex:0;flex-direction:column;justify-content:flex-start;overflow:scroll}.vote-table>div[data-v-c0f0eeea]{display:flex;flex:1;border-bottom:1px solid var(--color-border-dark);order:3;justify-content:space-between;min-width:max-content}.vote-table>div>div[data-v-c0f0eeea]{width:84px;min-width:84px;flex:1;margin:2px}.vote-table>div>.vote-header[data-v-c0f0eeea]{flex:1}.vote-table>div.header[data-v-c0f0eeea]{order:1}.vote-table>div.currentuser[data-v-c0f0eeea]{order:2}.vote-table .vote-row[data-v-c0f0eeea]{display:flex;justify-content:space-around;flex:1;align-items:center}.vote-table .vote-table-item[data-v-c0f0eeea]{flex:1}@media (max-width: 480px){.vote-table[data-v-c0f0eeea]{flex:1 0;flex-direction:row;min-width:300px}.vote-table>div[data-v-c0f0eeea]{display:none}.vote-table>div>div[data-v-c0f0eeea]{width:unset;margin:0}.vote-table>.currentuser[data-v-c0f0eeea]{display:flex;flex-direction:column}.vote-table>.currentuser>.user-row[data-v-c0f0eeea]{display:none}.vote-table>.header[data-v-c0f0eeea]{height:initial;padding-left:initial;display:flex;flex-direction:column;flex:3 1;justify-content:space-around;align-items:stretch}.vote-table>.header>.vote-header[data-v-c0f0eeea]{display:flex;flex-direction:row}.vote-table>.header>.vote-header>.counter[data-v-c0f0eeea]{align-items:baseline}}\n",""]),t.exports=e},812:function(t,e,o){"use strict";var i=o(762);o.n(i).a},813:function(t,e,o){(e=o(44)(!1)).push([t.i,"#emptycontent[data-v-1f9429dc],.emptycontent[data-v-1f9429dc]{margin:44px 0}.additional[data-v-1f9429dc]{display:flex;flex-wrap:wrap}.additional .participants[data-v-1f9429dc]{flex:1}.additional .comments[data-v-1f9429dc]{flex:3}.main-container[data-v-1f9429dc]{position:relative;flex:1;padding:8px 24px;margin:0;flex-direction:column;flex-wrap:nowrap;overflow-x:scroll}.header-actions[data-v-1f9429dc]{right:0;position:absolute;display:flex}.icon.icon-settings.active[data-v-1f9429dc]{display:block;width:44px;height:44px}\n",""]),t.exports=e},814:function(e,o,i){"use strict";i.r(o);var n=i(19),r=i(33);function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var s={name:"Subscription",computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){l(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({subscription:function(t){return t.subscription},poll:function(t){return t.poll}}),{subscribe:{get:function(){return this.subscription.subscribed},set:function(t){this.$store.commit("setSubscription",t),this.$store.dispatch("writeSubscriptionPromise",{pollId:this.poll.id})}}}),watch:{$route:function(){this.$store.dispatch("getSubscription",{pollId:this.$route.params.id})}},mounted:function(){this.$store.dispatch("getSubscription",{pollId:this.$route.params.id})}},c=(i(770),i(15)),p=Object(c.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"subscription"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.subscribe,expression:"subscribe"}],staticClass:"checkbox",attrs:{id:"subscribe",type:"checkbox"},domProps:{checked:Array.isArray(t.subscribe)?t._i(t.subscribe,null)>-1:t.subscribe},on:{change:function(e){var o=t.subscribe,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.subscribe=o.concat([null])):r>-1&&(t.subscribe=o.slice(0,r).concat(o.slice(r+1)))}else t.subscribe=n}}}),t._v(" "),o("label",{attrs:{for:"subscribe"}},[t._v(t._s(t.t("polls","Receive notification email on activity")))])])}),[],!1,null,"79f0af20",null).exports;function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function d(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var m={name:"ParticipantsList",data:function(){return{voteSaved:!1,delay:50,newName:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach((function(e){d(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({acl:function(t){return t.acl}}),{},Object(r.c)(["participantsVoted"]))},b=(i(772),Object(c.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"participants-list"},[t.participantsVoted.length?o("h2",[t._v("\n\t\t"+t._s(t.t("polls","Participants"))+"\n\t")]):o("h2",[t._v("\n\t\t"+t._s(t.t("polls","No Participants until now"))+"\n\t")]),t._v(" "),t.participantsVoted.length?o("div",{staticClass:"participants"},t._l(t.participantsVoted,(function(t){return o("userDiv",{key:t.userId,attrs:{"hide-names":!0,"user-id":t.userId,"display-name":t.displayName,type:"user"}})})),1):t._e()])}),[],!1,null,"f67c5b8a",null).exports);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function v(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var g={name:"PollDescription",computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){v(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll}}))},h=(i(774),Object(c.a)(g,(function(){var t=this.$createElement,e=this._self._c||t;return this.poll.description?e("h3",{staticClass:"poll-description"},[this._v(this._s(this.poll.description))]):e("h3",{staticClass:"poll-description"},[this._v(this._s(this.t("polls","No description provided")))])}),[],!1,null,"a30a1e70",null).exports);function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function O(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var x={name:"PollInformation",components:{UserBubble:n.UserBubble},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){O(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({acl:function(t){return t.acl},poll:function(t){return t.poll}}),{},Object(r.c)(["participantsVoted","expired"]))},I=Object(c.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"poll-information"},[t.poll.owner?o("UserBubble",{attrs:{user:t.poll.owner,"display-name":t.poll.ownerDisplayName}}):t._e(),t._v("\n\t"+t._s(t.t("polls","started this poll on %n. ",1,t.moment.unix(t.poll.created).format("LLLL")))+"\n\t"),t.expired?o("span",[t._v(t._s(t.t("polls","Voting is no more possible, because this poll expired since %n.",1,t.moment.unix(t.poll.expire).format("LLLL"))))]):t._e(),t._v(" "),!t.expired&&t.poll.expire&&t.acl.allowVote?o("span",[t._v(t._s(t.t("polls","You can place your vote until %n. ",1,t.moment.unix(t.poll.expire).format("LLLL"))))]):t._e(),t._v(" "),t.poll.anonymous?o("span",[t._v(t._s(t.t("polls","The names of other participants are hidden, as this is an anonymous poll. ")))]):t._e(),t._v(" "),o("span",[t._v(t._s(t.n("polls","%n person participated in this poll until now.","%n persons participated in this poll until now.",t.participantsVoted.length)))])],1)}),[],!1,null,null,null).exports;function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function C(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var j={name:"PollTitle",computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){C(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll}}),{},Object(r.c)(["expired"]))},A=(i(776),Object(c.a)(j,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h2",{staticClass:"poll-title"},[t._v("\n\t"+t._s(t.poll.title)+"\n\t"),t.expired?o("span",{staticClass:"label error"},[t._v(t._s(t.t("polls","Expired since %n",1,t.moment.unix(t.poll.expire).format("LLLL"))))]):t._e(),t._v(" "),!t.expired&&t.poll.expire?o("span",{staticClass:"label success"},[t._v(t._s(t.t("polls","Place your votes until %n",1,t.moment.unix(t.poll.expire).format("LLLL"))))]):t._e(),t._v(" "),t.poll.deleted?o("span",{staticClass:"label error"},[t._v(t._s(t.t("polls","Deleted")))]):t._e()])}),[],!1,null,"554b0810",null).exports),_=i(419),k=i(763),P=i.n(k),N=i(1),D=i.n(N);function Z(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function M(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var T={name:"VoteHeaderPublic",components:{Modal:n.Modal},data:function(){return{userName:"",token:"",checkingUserName:!1,redirecting:!1,isValidName:!1,newName:"",modal:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(o),!0).forEach((function(e){M(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Z(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}),{},Object(r.c)(["expired"]),{personalLink:function(){return window.location.origin.concat(this.$router.resolve({name:"publicVote",params:{token:this.$route.params.token}}).href)},displayLink:function(){return""!==this.acl.userId&&null!==this.acl.userId&&this.acl.foundByToken},isValidUser:function(){return""!==this.acl.userId&&null!==this.acl.userId}}),watch:{userName:function(){this.isValidName=!1,this.userName.length>2?(this.checkingUserName=!0,this.isValidName=this.validatePublicUsername()):(this.invalidUserNameMessage=t("polls","Please use at least 3 characters for your username!"),this.checkingUserName=!1)}},mounted:function(){this.setFocus()},methods:{setFocus:function(){var t=this;this.$nextTick((function(){t.$refs.userName.focus()}))},showModal:function(){this.modal=!0},closeModal:function(){this.modal=!1},copyLink:function(){this.$copyText(this.personalLink).then((function(){OC.Notification.showTemporary(t("polls","Link copied to clipboard"),{type:"success"})}),(function(){OC.Notification.showTemporary(t("polls","Error while copying link to clipboard"),{type:"error"})}))},validatePublicUsername:P()((function(){var e=this;return this.userName.length>2?(this.checkingUserName=!0,D.a.post(OC.generateUrl("apps/polls/check/username"),{pollId:this.poll.id,userName:this.userName,token:this.$route.params.token}).then((function(){return e.checkingUserName=!1,e.isValidName=!0,e.invalidUserNameMessage="Username is OK.",!0})).catch((function(){return e.checkingUserName=!1,e.isValidName=!1,e.invalidUserNameMessage=t("polls","This username can not be chosen."),!1}))):(this.checkingUserName=!1,this.isValidName=!1,this.invalidUserNameMessage=t("polls","Please use at least 3 characters for your username!"),!1)}),500),writeUserName:function(){var e=this;this.validatePublicUsername()&&this.$store.dispatch("createPersonalShare",{token:this.$route.params.token,userName:this.userName}).then((function(t){e.token=t.token,e.redirecting=!0,e.$router.replace({name:"publicVote",params:{token:t.token}})})).catch((function(){OC.Notification.showTemporary(t("polls","Error saving username",1,e.poll.title),{type:"error"})}))}}},L=(i(780),Object(c.a)(T,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.poll.id?o("div",{staticClass:"voteHeader"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.displayLink,expression:"displayLink"}],staticClass:"personal-link"},[t._v("\n\t\t"+t._s(t.t("polls","Your personal link to this poll: %n",1,t.personalLink))+"\n\t\t"),o("a",{staticClass:"icon icon-clippy",on:{click:function(e){return t.copyLink()}}})]),t._v(" "),o("Modal",{directives:[{name:"show",rawName:"v-show",value:!t.isValidUser&!t.expired,expression:"!isValidUser &!expired"}],staticClass:"modal",attrs:{"can-close":!1}},[o("div",{staticClass:"modal__content"},[o("h2",[t._v(t._s(t.t("polls","Enter your name!")))]),t._v(" "),o("p",[t._v(t._s(t.t("polls","To participate, you need to enter a valid username with at least 3 characters. ")))]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],ref:"userName",class:{error:!t.isValidName&&t.userName.length>0,success:t.isValidName},attrs:{type:"text",placeholder:t.t("polls","Enter your name")},domProps:{value:t.userName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.writeUserName(e)},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),t._v(" "),o("div",[o("span",{directives:[{name:"show",rawName:"v-show",value:t.checkingUserName,expression:"checkingUserName"}],staticClass:"icon-loading-small"},[t._v("Checking username …")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.checkingUserName&&t.userName.length<3,expression:"!checkingUserName && userName.length < 3"}]},[t._v(t._s(t.t("polls","Username is not valid. Please enter at least 3 characters.")))]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.checkingUserName&&t.userName.length>2&&!t.isValidName,expression:"!checkingUserName && userName.length > 2 && !isValidName"}]},[t._v(t._s(t.t("polls","This username is not valid, i.e. because it is already in use.")))])]),t._v(" "),o("button",{staticClass:"button btn primary",attrs:{disabled:!t.isValidName||t.checkingUserName},on:{click:t.writeUserName}},[o("span",[t._v(t._s(t.t("polls","OK")))])])])])],1):t._e()}),[],!1,null,"c4259778",null).exports);function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function z(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(Object(o),!0).forEach((function(e){E(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function E(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var G={name:"SideBarTabConfiguration",components:{DatetimePicker:n.DatetimePicker},data:function(){return{writingPoll:!1,sidebar:!1,titleEmpty:!1,setExpiration:!1}},computed:z({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}),{firstDOW:function(){return 0===moment.localeData()._week.dow?7:moment.localeData()._week.dow},pollDescription:{get:function(){return this.poll.description},set:function(t){this.writeValueDebounced({description:t})}},pollTitle:{get:function(){return this.poll.title},set:function(t){this.writeValueDebounced({title:t})}},pollAccess:{get:function(){return this.poll.access},set:function(t){this.writeValue({access:t})}},pollExpire:{get:function(){return moment.unix(this.poll.expire)},set:function(t){this.writeValue({expire:moment(t).unix()})}},pollExpiration:{get:function(){return this.poll.expire},set:function(t){t?this.writeValue({expire:moment().unix()}):this.writeValue({expire:0})}},pollFullAnonymous:{get:function(){return this.poll.Fullanonymous>0},set:function(t){this.writeValue({fullAnonymous:t})}},pollAnonymous:{get:function(){return this.poll.anonymous>0},set:function(t){this.writeValue({anonymous:t})}},pollAdminAccess:{get:function(){return this.poll.adminAccess>0},set:function(t){this.writeValue({adminAccess:t})}},pollAllowMaybe:{get:function(){return this.poll.allowMaybe},set:function(t){this.writeValue({allowMaybe:t})}},expirationDatePicker:function(){return{editable:!0,minuteStep:1,type:"datetime",format:moment.localeData().longDateFormat("L")+" "+moment.localeData().longDateFormat("LT"),lang:OC.getLanguage().split("-")[0],firstDayOfWeek:this.firstDOW,placeholder:t("polls","Expiration date"),timePickerOptions:{start:"00:00",step:"01:00",end:"23:30"}}},saveButtonTitle:function(){return this.writingPoll?t("polls","Writing poll"):this.acl.allowEdit?t("polls","Update poll"):t("polls","Create new poll")}}),methods:z({},Object(r.d)(["setPollProperty"]),{},Object(r.b)(["writePollPromise"]),{writeValueDebounced:P()((function(t){this.writeValue(t)}),1500),writeValue:function(t){this.$store.commit("setPollProperty",t),this.writingPoll=!0,this.writePoll()},switchDeleted:function(){this.poll.deleted?this.writeValue({deleted:0}):this.writeValue({deleted:moment.utc().unix()})},writePoll:function(){var e=this;this.titleEmpty?OC.Notification.showTemporary(t("polls","Title must not be empty!"),{type:"success"}):(this.$store.dispatch("writePollPromise").then((function(){OC.Notification.showTemporary(t("polls","%n successfully saved",1,e.poll.title),{type:"success"}),e.$root.$emit("updatePolls")})),this.writingPoll=!1)},write:function(){this.acl.allowEdit&&this.writePoll()}})},W=Object(c.a)(G,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.acl.isAdmin?o("div",{staticClass:"config-box"},[o("label",{staticClass:"icon-checkmark title"},[t._v(" "+t._s(t.t("polls","As an admin you may edit this poll"))+" ")])]):t._e(),t._v(" "),t.acl.allowEdit?o("div",{staticClass:"config-box"},[o("label",{staticClass:"icon-sound title"},[t._v(" "+t._s(t.t("polls","Title"))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollTitle,expression:"pollTitle"}],class:{error:t.titleEmpty},attrs:{type:"text"},domProps:{value:t.pollTitle},on:{input:function(e){e.target.composing||(t.pollTitle=e.target.value)}}})]):t._e(),t._v(" "),t.acl.allowEdit?o("div",{staticClass:"config-box"},[o("label",{staticClass:"icon-edit title"},[t._v(" "+t._s(t.t("polls","Description"))+" ")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pollDescription,expression:"pollDescription"}],domProps:{value:t.pollDescription},on:{input:function(e){e.target.composing||(t.pollDescription=e.target.value)}}})]):t._e(),t._v(" "),o("div",{staticClass:"config-box"},[o("label",{staticClass:"title icon-category-customization"},[t._v(" "+t._s(t.t("polls","Poll configurations"))+" ")]),t._v(" "),t.acl.isAdmin?t._e():o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollAdminAccess,expression:"pollAdminAccess"}],staticClass:"checkbox",attrs:{id:"adminAccess",type:"checkbox"},domProps:{checked:Array.isArray(t.pollAdminAccess)?t._i(t.pollAdminAccess,null)>-1:t.pollAdminAccess},on:{change:function(e){var o=t.pollAdminAccess,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.pollAdminAccess=o.concat([null])):r>-1&&(t.pollAdminAccess=o.slice(0,r).concat(o.slice(r+1)))}else t.pollAdminAccess=n}}}),t._v(" "),t.acl.isAdmin?t._e():o("label",{staticClass:"title",attrs:{for:"adminAccess"}},[t._v(" "+t._s(t.t("polls","Allow admins to edit this poll"))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollAllowMaybe,expression:"pollAllowMaybe"}],staticClass:"checkbox",attrs:{id:"allowMaybe",type:"checkbox"},domProps:{checked:Array.isArray(t.pollAllowMaybe)?t._i(t.pollAllowMaybe,null)>-1:t.pollAllowMaybe},on:{change:function(e){var o=t.pollAllowMaybe,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.pollAllowMaybe=o.concat([null])):r>-1&&(t.pollAllowMaybe=o.slice(0,r).concat(o.slice(r+1)))}else t.pollAllowMaybe=n}}}),t._v(" "),o("label",{staticClass:"title",attrs:{for:"allowMaybe"}},[t._v(" "+t._s(t.t("polls",'Allow "maybe" vote'))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollAnonymous,expression:"pollAnonymous"}],staticClass:"checkbox",attrs:{id:"anonymous",type:"checkbox"},domProps:{checked:Array.isArray(t.pollAnonymous)?t._i(t.pollAnonymous,null)>-1:t.pollAnonymous},on:{change:function(e){var o=t.pollAnonymous,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.pollAnonymous=o.concat([null])):r>-1&&(t.pollAnonymous=o.slice(0,r).concat(o.slice(r+1)))}else t.pollAnonymous=n}}}),t._v(" "),o("label",{staticClass:"title",attrs:{for:"anonymous"}},[t._v(" "+t._s(t.t("polls","Anonymous poll"))+" ")]),t._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:t.poll.anonymous,expression:"poll.anonymous"},{name:"model",rawName:"v-model",value:t.pollFullAnonymous,expression:"pollFullAnonymous"}],staticClass:"checkbox",attrs:{id:"trueAnonymous",type:"checkbox"},domProps:{checked:Array.isArray(t.pollFullAnonymous)?t._i(t.pollFullAnonymous,null)>-1:t.pollFullAnonymous},on:{change:function(e){var o=t.pollFullAnonymous,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.pollFullAnonymous=o.concat([null])):r>-1&&(t.pollFullAnonymous=o.slice(0,r).concat(o.slice(r+1)))}else t.pollFullAnonymous=n}}}),t._v(" "),o("label",{directives:[{name:"show",rawName:"v-show",value:t.poll.anonymous,expression:"poll.anonymous"}],staticClass:"title",attrs:{for:"trueAnonymous"}},[t._v(" "+t._s(t.t("polls","Hide user names for admin"))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollExpiration,expression:"pollExpiration"}],staticClass:"checkbox",attrs:{id:"expiration",type:"checkbox"},domProps:{checked:Array.isArray(t.pollExpiration)?t._i(t.pollExpiration,null)>-1:t.pollExpiration},on:{change:function(e){var o=t.pollExpiration,i=e.target,n=!!i.checked;if(Array.isArray(o)){var r=t._i(o,null);i.checked?r<0&&(t.pollExpiration=o.concat([null])):r>-1&&(t.pollExpiration=o.slice(0,r).concat(o.slice(r+1)))}else t.pollExpiration=n}}}),t._v(" "),o("label",{staticClass:"title",attrs:{for:"expiration"}},[t._v(" "+t._s(t.t("polls","Expires"))+" ")]),t._v(" "),o("DatetimePicker",t._b({directives:[{name:"show",rawName:"v-show",value:t.pollExpiration,expression:"pollExpiration"}],staticStyle:{width:"170px"},model:{value:t.pollExpire,callback:function(e){t.pollExpire=e},expression:"pollExpire"}},"DatetimePicker",t.expirationDatePicker,!1))],1),t._v(" "),o("div",{staticClass:"config-box"},[o("label",{staticClass:"title icon-category-auth"},[t._v(" "+t._s(t.t("polls","Access"))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollAccess,expression:"pollAccess"}],staticClass:"radio",attrs:{id:"hidden",value:"hidden",type:"radio"},domProps:{checked:t._q(t.pollAccess,"hidden")},on:{change:function(e){t.pollAccess="hidden"}}}),t._v(" "),o("label",{staticClass:"title",attrs:{for:"hidden"}},[t._v(t._s(t.t("polls","Hidden to other users"))+" ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pollAccess,expression:"pollAccess"}],staticClass:"radio",attrs:{id:"public",value:"public",type:"radio"},domProps:{checked:t._q(t.pollAccess,"public")},on:{change:function(e){t.pollAccess="public"}}}),t._v(" "),o("label",{staticClass:"title",attrs:{for:"public"}},[t._v(t._s(t.t("polls","Visible to other users"))+" ")])]),t._v(" "),o("button",{staticClass:"button btn primary",on:{click:function(e){return t.switchDeleted()}}},[t.poll.deleted?o("span",[t._v(t._s(t.t("polls","Restore poll")))]):o("span",[t._v(t._s(t.t("polls","Delete poll")))])])])}),[],!1,null,null,null).exports,Y={name:"PollItemDate",components:{},props:{option:{type:Object,required:!0},showOrder:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}}},U=(i(782),Object(c.a)(Y,(function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"poll-item date"},[e("div",{staticClass:"pollOption"},[this._v("\n\t\t"+this._s(this.moment.unix(this.option.timestamp).format("LLLL"))+"\n\t")]),this._v(" "),this._t("actions")],2)}),[],!1,null,null,null).exports);function R(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function V(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var B={name:"SideBarTabOptionsDate",components:{Actions:n.Actions,ActionButton:n.ActionButton,Multiselect:n.Multiselect,PollItemDate:U,DatetimePicker:n.DatetimePicker},data:function(){return{lastOption:"",move:{step:1,unit:"week",units:["minute","hour","day","week","month","year"]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?R(Object(o),!0).forEach((function(e){V(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({options:function(t){return t.options},acl:function(t){return t.acl}}),{},Object(r.c)(["sortedOptions"]),{firstDOW:function(){return 0===moment.localeData()._week.dow?7:moment.localeData()._week.dow},optionDatePicker:function(){return{editable:!1,minuteStep:1,type:"datetime",format:moment.localeData().longDateFormat("L")+" "+moment.localeData().longDateFormat("LT"),lang:OC.getLanguage().split("-")[0],firstDayOfWeek:this.firstDOW,placeholder:t("polls","Click to add a date"),timePickerOptions:{start:"00:00",step:"00:30",end:"23:30"}}}}),methods:{addOption:function(t){this.$store.dispatch("addOptionAsync",{pollOptionText:t})},shiftDates:function(t){var e=this.$store;this.options.list.forEach((function(o){var i=Object.assign({},o);i.pollOptionText=moment(i.pollOptionText).add(t.step,t.unit).format("YYYY-MM-DD HH:mm:ss"),i.timestamp=moment.utc(i.pollOptionText).unix(),e.dispatch("updateOptionAsync",{option:i})}))},removeOption:function(t){this.$store.dispatch("removeOptionAsync",{option:t})}}},H=(i(784),Object(c.a)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"config-box"},[o("label",{staticClass:"title icon-calendar"},[t._v("\n\t\t\t"+t._s(t.t("polls","Add a date option"))+"\n\t\t")]),t._v(" "),o("DatetimePicker",t._b({staticStyle:{width:"100%"},attrs:{confirm:""},on:{change:function(e){return t.addOption(t.lastOption)}},model:{value:t.lastOption,callback:function(e){t.lastOption=e},expression:"lastOption"}},"DatetimePicker",t.optionDatePicker,!1))],1),t._v(" "),o("div",{staticClass:"config-box"},[o("label",{staticClass:"title icon-history"},[t._v("\n\t\t\t"+t._s(t.t("polls","Shift all date options"))+"\n\t\t")]),t._v(" "),o("div",[o("div",{staticClass:"selectUnit"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.move.step,expression:"move.step"}],domProps:{value:t.move.step},on:{input:function(e){e.target.composing||t.$set(t.move,"step",e.target.value)}}}),t._v(" "),o("Multiselect",{attrs:{options:t.move.units},model:{value:t.move.unit,callback:function(e){t.$set(t.move,"unit",e)},expression:"move.unit"}})],1)]),t._v(" "),o("div",[o("button",{staticClass:"button btn primary",on:{click:function(e){return t.shiftDates(t.move)}}},[o("span",[t._v(t._s(t.t("polls","Shift")))])])])]),t._v(" "),o("ul",{staticClass:"config-box poll-table"},[o("label",{staticClass:"title icon-calendar"},[t._v("\n\t\t\t"+t._s(t.t("polls","Available Options"))+"\n\t\t")]),t._v(" "),t._l(t.sortedOptions,(function(e){return o("PollItemDate",{key:e.id,attrs:{option:e},scopedSlots:t._u([{key:"actions",fn:function(){return[t.acl.allowEdit?o("Actions",{staticClass:"action"},[o("ActionButton",{attrs:{icon:"icon-delete"},on:{click:function(o){return t.removeOption(e)}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("polls","Delete option"))+"\n\t\t\t\t\t")])],1):t._e()]},proxy:!0}],null,!0)})}))],2)])}),[],!1,null,null,null).exports),X=i(786),F=i.n(X),$={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:16},height:{type:[Number,String],default:16},iconColor:{type:String,default:"currentColor"}}},Q=(i(788),{name:"PollItemText",components:{IconBase:Object(c.a)($,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 16 16","aria-labelledby":t.iconName,role:"presentation"}},[o("title",{attrs:{id:t.iconName,lang:"en"}},[t._v(t._s(t.iconName)+" icon")]),t._v(" "),o("g",{attrs:{fill:t.iconColor}},[t._t("default")],2)])}),[],!1,null,"2171ba32",null).exports,IconHandle:Object(c.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("path",{attrs:{d:"M2 2v2h12v-2zm0 3v2h12v-2zm0 3v2h12v-2zm0 3v2h12v-2z"}})}),[],!1,null,null,null).exports},props:{option:{type:Object,required:!0},showOrder:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}}}),J=(i(790),Object(c.a)(Q,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"poll-item text",class:{draggable:t.draggable}},[t.draggable?o("IconBase",{staticClass:"handle",attrs:{"icon-name":"handle"}},[o("IconHandle")],1):t._e(),t._v(" "),t.showOrder?o("div",{staticClass:"order"},[t._v("\n\t\t"+t._s(t.option.order)+"\n\t")]):t._e(),t._v(" "),o("div",{staticClass:"pollOption"},[t._v("\n\t\t"+t._s(t.option.pollOptionText)+"\n\t")]),t._v(" "),t._t("actions")],2)}),[],!1,null,null,null).exports),K={name:"InputDiv",props:{value:{type:String,required:!0},placeholder:{type:String,default:""}}},q=(i(792),Object(c.a)(K,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input-div"},[o("input",{ref:"input",staticClass:"input",attrs:{placeholder:t.placeholder},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("input",e.target.value)}}}),t._v(" "),o("button",{staticClass:"submit icon-confirm",on:{click:function(e){return t.$emit("input",t.$refs.input.value)}}})])}),[],!1,null,"7d1f22cd",null).exports);function tt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function et(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ot={name:"SideBarTabOptionsText",components:{Actions:n.Actions,ActionButton:n.ActionButton,draggable:F.a,InputDiv:q,PollItemText:J},data:function(){return{newPollText:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(o),!0).forEach((function(e){et(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):tt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({options:function(t){return t.options},acl:function(t){return t.acl}}),{},Object(r.c)(["sortedOptions"]),{sortOptions:{get:function(){return this.sortedOptions},set:function(t){this.writeOptions(t)}}}),methods:{writeOptions:function(t){this.$store.commit("reorderOptions",t),this.$store.dispatch("updateOptions")},addOption:function(){var t=this;this.newPollText&&this.$store.dispatch("addOptionAsync",{pollOptionText:this.newPollText}).then((function(){t.newPollText=""}))},removeOption:function(t){this.$store.dispatch("removeOptionAsync",{option:t})}}};i(794);function it(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function nt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var rt={name:"SideBarTabOptions",components:{SideBarTabOptionsDate:H,SideBarTabOptionsText:Object(c.a)(ot,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"config-box"},[o("label",{staticClass:"title icon-toggle-filelist"},[t._v("\n\t\t\t"+t._s(t.t("polls","Add a new text option"))+"\n\t\t")]),t._v(" "),o("InputDiv",{attrs:{placeholder:t.t("polls","Enter option text")},on:{input:function(e){return t.addOption()}},model:{value:t.newPollText,callback:function(e){t.newPollText=e},expression:"newPollText"}})],1),t._v(" "),o("ul",{staticClass:"config-box poll-table"},[o("label",{staticClass:"title icon-calendar"},[t._v("\n\t\t\t"+t._s(t.t("polls","Available Options"))+"\n\t\t")]),t._v(" "),o("draggable",{model:{value:t.sortOptions,callback:function(e){t.sortOptions=e},expression:"sortOptions"}},[o("transition-group",t._l(t.sortOptions,(function(e){return o("PollItemText",{key:e.id,attrs:{option:e,draggable:!0},scopedSlots:t._u([{key:"actions",fn:function(){return[t.acl.allowEdit?o("Actions",{staticClass:"action"},[o("ActionButton",{attrs:{icon:"icon-delete"},on:{click:function(o){return t.removeOption(e)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.t("polls","Delete option"))+"\n\t\t\t\t\t\t\t")])],1):t._e()]},proxy:!0}],null,!0)})})),1)],1)],1)])}),[],!1,null,null,null).exports},data:function(){return{lastOption:"",move:{step:1,unit:"week",units:["minute","hour","day","week","month","year"]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?it(Object(o),!0).forEach((function(e){nt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):it(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}))},at=Object(c.a)(rt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.acl.isAdmin?o("div",{staticClass:"config-box"},[o("label",{staticClass:"icon-checkmark title"},[t._v(" "+t._s(t.t("polls","As an admin you may edit this poll"))+" ")])]):t._e(),t._v(" "),t.acl.allowEdit&&"datePoll"===t.poll.type?o("SideBarTabOptionsDate"):t._e(),t._v(" "),t.acl.allowEdit&&"textPoll"===t.poll.type?o("SideBarTabOptionsText"):t._e()],1)}),[],!1,null,null,null).exports;function lt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function st(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ct={name:"CommentAdd",components:{InputDiv:q},data:function(){return{comment:"",isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(o),!0).forEach((function(e){st(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):lt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({acl:function(t){return t.acl}}),{currentUser:function(){return this.$store.state.acl.userId}}),methods:{writeComment:function(){var e=this;this.comment&&(this.isLoading=!0,this.$store.dispatch("setCommentAsync",{message:this.comment}).then((function(){e.isLoading=!1,OC.Notification.showTemporary(t("polls","Your comment was added"),{type:"success"}),e.comment=""})).catch((function(o){e.isLoading=!1,console.error("Error while saving comment - Error: ",o.response),OC.Notification.showTemporary(t("polls","Error while saving comment"),{type:"error"})})))}}},pt=(i(796),Object(c.a)(ct,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment"},[o("UserDiv",{attrs:{"user-id":t.acl.userId,focus:!0,"display-name":t.acl.DisplayName}}),t._v(" "),o("InputDiv",{staticClass:"addComment",attrs:{placeholder:t.t("polls","New comment …")},on:{input:function(e){return t.writeComment()}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)}),[],!1,null,"7ff032ac",null).exports),ut=i(165),dt=i.n(ut);function mt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function bt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ft={name:"Comments",components:{Actions:n.Actions,ActionButton:n.ActionButton,CommentAdd:pt},data:function(){return{sort:"timestamp",reverse:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(o),!0).forEach((function(e){bt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):mt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({comments:function(t){return t.comments},acl:function(t){return t.acl}}),{},Object(r.c)(["countComments"]),{sortedList:function(){return this.reverse?dt()(this.comments.list,this.sort).reverse():dt()(this.comments.list,this.sort)}}),methods:{deleteComment:function(e){this.$store.dispatch({type:"deleteComment",comment:e}).then((function(){OC.Notification.showTemporary(t("polls","Comment deleted"),{type:"success"})}),(function(e){OC.Notification.showTemporary(t("polls","Error while deleting the comment"),{type:"error"}),console.error(e.response)}))}}},vt=(i(798),Object(c.a)(ft,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comments"},[o("h2",[t._v(t._s(t.t("polls","Comments"))+" ")]),t._v(" "),t.acl.allowComment?o("CommentAdd"):t._e(),t._v(" "),t.countComments?o("transition-group",{staticClass:"comments",attrs:{name:"fade",tag:"ul"}},t._l(t.sortedList,(function(e){return o("li",{key:e.id},[o("div",{staticClass:"comment-item"},[o("user-div",{attrs:{"user-id":e.userId,"display-name":e.displayName}}),t._v(" "),e.userId===t.acl.userId?o("Actions",[o("ActionButton",{attrs:{icon:"icon-delete"},on:{click:function(o){return t.deleteComment(e)}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("polls","Delete comment"))+"\n\t\t\t\t\t")])],1):t._e(),t._v(" "),o("div",{staticClass:"date"},[t._v("\n\t\t\t\t\t"+t._s(t.moment.utc(e.dt).fromNow())+"\n\t\t\t\t")])],1),t._v(" "),o("div",{staticClass:"message wordwrap comment-content"},[t._v("\n\t\t\t\t"+t._s(e.comment)+"\n\t\t\t")])])})),0):o("div",{staticClass:"emptycontent"},[o("div",{staticClass:"icon-comment"}),t._v(" "),o("p",[t._v(" "+t._s(t.t("polls","No comments yet. Be the first.")))])])],1)}),[],!1,null,"65ef1236",null).exports);function gt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function ht(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var yt={name:"SideBarTabShare",components:{Multiselect:n.Multiselect},data:function(){return{users:[],invitations:[],invitation:{},isLoading:!1,placeholder:t("polls","Enter a name to start the search"),siteUsersListOptions:{getUsers:!0,getGroups:!0,getContacts:!0,query:""}}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(o),!0).forEach((function(e){ht(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):gt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({acl:function(t){return t.acl}}),{},Object(r.c)(["invitationShares","publicShares"])),methods:{loadUsersAsync:function(t){var e=this;this.isLoading=!1,this.siteUsersListOptions.query=t,this.$http.post(OC.generateUrl("apps/polls/siteusers/get/"),this.siteUsersListOptions).then((function(t){e.users=t.data.siteusers,e.isLoading=!1}),(function(t){console.error(t.response)}))},copyLink:function(e){this.$copyText(window.location.origin+e.url).then((function(){OC.Notification.showTemporary(t("polls","Link copied to clipboard"),{type:"success"})}),(function(){OC.Notification.showTemporary(t("polls","Error while copying link to clipboard"),{type:"error"})}))},resolveShareUser:function(e){return""!==e.userId&&null!==e.userId?e.userId:"mail"===e.type?e.userEmail:t("polls","Unknown user")},shareDisplayName:function(e){var o="";return"user"===e.type?o=e.displayName:"contact"===e.type||"external"===e.type?(o=e.userId,e.userEmail&&(o=o+" ("+e.userEmail+")")):"mail"===e.type?(o=e.userEmail,e.userId&&(o=e.userId+" ("+o+")")):o="group"===e.type?e.userId+" ("+t("polls","Group")+")":"public"===e.type?t("polls","Public share"):t("polls","Unknown user"),o},removeShare:function(t){this.$store.dispatch("removeShareAsync",{share:t})},addShare:function(e){this.$store.dispatch("writeSharePromise",{share:{type:e.type,userId:e.user,pollId:"0",userEmail:e.emailAddress,token:""}}).catch((function(e){console.error("Error while adding share - Error: ",e),OC.Notification.showTemporary(t("polls","Error while adding share"),{type:"error"})}))}}};i(800);function Ot(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function xt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var It={name:"SideBar",components:{SideBarTabConfiguration:W,Comments:vt,SideBarTabOptions:at,SideBarTabShare:Object(c.a)(yt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.acl.isAdmin?o("div",{staticClass:"config-box"},[o("label",{staticClass:"icon-checkmark title"},[t._v(" "+t._s(t.t("polls","As an admin you may edit this poll"))+" ")])]):t._e(),t._v(" "),o("h3",[t._v(t._s(t.t("polls","Invitations")))]),t._v(" "),o("span",[t._v(t._s(t.t("polls","Invited users will get informed immediately via eMail!"))+" ")]),t._v(" "),o("TransitionGroup",{staticClass:"shared-list",attrs:{css:!1,tag:"ul"}},t._l(t.invitationShares,(function(e){return o("li",{key:e.id},[o("UserDiv",{attrs:{"user-id":t.resolveShareUser(e),"display-name":t.shareDisplayName(e),type:e.type,icon:!0}}),t._v(" "),o("div",{staticClass:"options"},[o("a",{staticClass:"icon icon-clippy",on:{click:function(o){t.copyLink({url:t.OC.generateUrl("apps/polls/s/")+e.token})}}}),t._v(" "),o("a",{staticClass:"icon icon-delete svg delete-poll",on:{click:function(o){return t.removeShare(e)}}})])],1)})),0),t._v(" "),o("Multiselect",{attrs:{id:"ajax",options:t.users,multiple:!1,"user-select":!0,"tag-width":80,"clear-on-select":!1,"preserve-search":!0,"options-limit":30,loading:t.isLoading,"internal-search":!1,searchable:!0,"preselect-first":!0,placeholder:t.placeholder,label:"displayName","track-by":"user"},on:{select:t.addShare,"search-change":t.loadUsersAsync},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.values,n=(e.search,e.isOpen);return[i.length&&!n?o("span",{staticClass:"multiselect__single"},[t._v("\n\t\t\t\t"+t._s(i.length)+" users selected\n\t\t\t")]):t._e()]}}])}),t._v(" "),o("h3",[t._v(t._s(t.t("polls","Public shares")))]),t._v(" "),o("TransitionGroup",{staticClass:"shared-list",attrs:{css:!1,tag:"ul"}},t._l(t.publicShares,(function(e){return o("li",{key:e.id},[o("div",{staticClass:"user-row user"},[o("div",{staticClass:"avatar icon-public"}),t._v(" "),o("div",{staticClass:"user-name"},[t._v("\n\t\t\t\t\t"+t._s(t.t("polls","Public link ("+e.token+")"))+"\n\t\t\t\t")])]),t._v(" "),o("div",{staticClass:"options"},[o("a",{staticClass:"icon icon-clippy",on:{click:function(o){t.copyLink({url:t.OC.generateUrl("apps/polls/s/")+e.token})}}}),t._v(" "),o("a",{staticClass:"icon icon-delete",on:{click:function(o){return t.removeShare(e)}}})])])})),0),t._v(" "),o("div",{staticClass:"user-row user",on:{click:function(e){return t.addShare({type:"public",user:"",emailAddress:""})}}},[o("div",{staticClass:"avatar icon-add"}),t._v(" "),o("div",{staticClass:"user-name"},[t._v("\n\t\t\t"+t._s(t.t("polls","Add a public link"))+"\n\t\t")])])],1)}),[],!1,null,null,null).exports,AppSidebar:n.AppSidebar,AppSidebarTab:n.AppSidebarTab},props:{active:{type:String,default:t("polls","Comments").toLowerCase()}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(o),!0).forEach((function(e){xt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ot(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}))},wt=(i(802),Object(c.a)(It,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("AppSidebar",{ref:"sideBar",attrs:{active:t.active,title:t.t("polls","Details")},on:{close:function(e){return t.$emit("closeSideBar")}}},[t.acl.allowEdit?o("AppSidebarTab",{attrs:{id:"configuration",order:1,name:t.t("polls","Configuration"),icon:"icon-settings"}},[o("SideBarTabConfiguration")],1):t._e(),t._v(" "),t.acl.allowEdit?o("AppSidebarTab",{attrs:{id:"options",order:2,name:t.t("polls","Options"),icon:"icon-toggle-filelist"}},[o("SideBarTabOptions")],1):t._e(),t._v(" "),t.acl.allowEdit?o("AppSidebarTab",{attrs:{id:"shares",order:3,name:t.t("polls","Shares"),icon:"icon-share"}},[o("SideBarTabShare")],1):t._e(),t._v(" "),o("AppSidebarTab",{attrs:{id:"comments",order:4,name:t.t("polls","Comments"),icon:"icon-comment"}},[o("Comments")],1)],1)}),[],!1,null,null,null).exports);function Ct(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function jt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var At={name:"VoteTableItem",props:{option:{type:Object,default:void 0},userId:{type:String,default:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(o),!0).forEach((function(e){jt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ct(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}),{answer:function(){try{return this.$store.getters.getVote({option:this.option,userId:this.userId}).voteAnswer}catch(t){return""}},isValidUser:function(){return""!==this.userId&&null!==this.userId},isActive:function(){return this.isValidUser&&this.acl.userId===this.userId&&this.acl.allowVote}}),methods:{voteClick:function(){this.isActive&&this.$emit("voteClick")}}},_t=(i(804),Object(c.a)(At,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vote-table-item",class:[t.answer,{active:t.isActive}]},[o("div",{staticClass:"icon",on:{click:function(e){return t.voteClick()}}})])}),[],!1,null,null,null).exports);function kt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function Pt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Nt={name:"VoteTable",components:{PollItemDate:U,PollItemText:J,VoteTableItem:_t},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(o),!0).forEach((function(e){Pt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):kt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}),{},Object(r.c)(["sortedOptions","participantsVoted","votesRank","expired"]),{currentUser:function(){return this.acl.userId},noOptions:function(){return 0===this.sortedOptions.length}}),methods:{yesVotes:function(t){return this.votesRank.find((function(e){return e.pollOptionText===t})).yes},maybeVotes:function(t){return this.votesRank.find((function(e){return e.pollOptionText===t})).maybe},noVotes:function(t){return this.participantsVoted.length-this.maybeVotes(t)-this.yesVotes(t)},setVote:function(t,e){this.$store.dispatch("setVoteAsync",{option:t,userId:e,setTo:this.$store.getters.getNextAnswer({option:t,userId:e})}).then((function(){}))}}},Dt=(i(806),Object(c.a)(Nt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"vote-list"},t._l(t.sortedOptions,(function(e){return o("li",{key:e.id,staticClass:"vote-row"},[t.acl.allowVote?o("VoteTableItem",{attrs:{"user-id":t.acl.userId,option:e},on:{voteClick:function(o){return t.setVote(e,t.acl.userId)}}}):t._e(),t._v(" "),"textPoll"===t.poll.type?o("PollItemText",{attrs:{option:e}}):t._e(),t._v(" "),"datePoll"===t.poll.type?o("PollItemDate",{attrs:{option:e}}):t._e(),t._v(" "),o("div",{staticClass:"counter"},[t.yesVotes(e.pollOptionText)?o("div",{staticClass:"yes",style:{flex:t.yesVotes(e.pollOptionText)}},[o("span",[t._v(" "+t._s(t.yesVotes(e.pollOptionText))+" ")])]):t._e(),t._v(" "),t.maybeVotes(e.pollOptionText)?o("div",{staticClass:"maybe",style:{flex:t.maybeVotes(e.pollOptionText)}},[o("span",[t._v(" "+t._s(t.maybeVotes(e.pollOptionText))+" ")])]):t._e(),t._v(" "),t.noVotes(e.pollOptionText)?o("div",{staticClass:"no",style:{flex:t.noVotes(e.pollOptionText)}},[o("span",[t._v(" "+t._s(t.noVotes(e.pollOptionText))+" ")])]):t._e()])],1)})),0)}),[],!1,null,"79a58059",null).exports);function Zt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function Mt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Tt={name:"VoteTableHeader",props:{option:{type:Object,default:void 0},pollType:{type:String,default:void 0}},data:function(){return{openedMenu:!1,hostName:this.$route.query.page}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(o),!0).forEach((function(e){Mt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Zt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},votes:function(t){return t.votes.list}}),{},Object(r.c)(["votesRank","winnerCombo"]),{yesVotes:function(){var t=this.option.pollOptionText;return this.votesRank.find((function(e){return e.pollOptionText===t})).yes},maybeVotes:function(){var t=this.option.pollOptionText;return this.votesRank.find((function(e){return e.pollOptionText===t})).maybe},isWinner:function(){var t=this.option.pollOptionText;return this.votesRank.find((function(e){return e.pollOptionText===t})).yes===this.winnerCombo.yes&&this.votesRank.find((function(e){return e.pollOptionText===t})).yes+this.votesRank.find((function(e){return e.pollOptionText===t})).maybe>0&&this.winnerCombo.maybe===this.votesRank.find((function(e){return e.pollOptionText===t})).maybe}})};i(808);function Lt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function St(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var zt={name:"VoteTable",components:{VoteTableHeader:Object(c.a)(Tt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vote-header",class:{winner:t.isWinner}},["textPoll"===t.poll.type?o("div",{staticClass:"text-box"},[t._v("\n\t\t"+t._s(t.option.pollOptionText)+"\n\t")]):t._e(),t._v(" "),"datePoll"===t.poll.type?o("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:t.moment.unix(t.option.timestamp).format("llll"),expression:"moment.unix(option.timestamp).format('llll')",modifiers:{auto:!0}}],staticClass:"date-box"},[o("div",{staticClass:"month"},[t._v("\n\t\t\t"+t._s(t.moment.unix(t.option.timestamp).format("MMM")+" '"+t.moment.unix(t.option.timestamp).format("YY"))+"\n\t\t")]),t._v(" "),o("div",{staticClass:"day"},[t._v("\n\t\t\t"+t._s(t.moment.unix(t.option.timestamp).format("Do"))+"\n\t\t")]),t._v(" "),o("div",{staticClass:"dow"},[t._v("\n\t\t\t"+t._s(t.moment.unix(t.option.timestamp).format("ddd"))+"\n\t\t")]),t._v(" "),o("div",{staticClass:"time"},[t._v("\n\t\t\t"+t._s(t.moment.unix(t.option.timestamp).format("LT"))+"\n\t\t")])]):t._e(),t._v(" "),o("div",{staticClass:"counter"},[o("div",{staticClass:"yes"},[o("span",[t._v(" "+t._s(t.yesVotes)+" ")])]),t._v(" "),t.poll.allowMaybe?o("div",{staticClass:"maybe"},[o("span",[t._v(" "+t._s(t.maybeVotes)+" ")])]):t._e()])])}),[],!1,null,"be769e46",null).exports,VoteTableItem:_t},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(o),!0).forEach((function(e){St(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Lt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl}}),{},Object(r.c)(["sortedOptions","participants"]),{currentUser:function(){return this.acl.userId}}),methods:{setVote:function(t,e){this.$store.dispatch("setVoteAsync",{option:t,userId:e,setTo:this.$store.getters.getNextAnswer({option:t,userId:e})}).then((function(){}))}}},Et=(i(810),Object(c.a)(zt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vote-table"},[o("div",{staticClass:"header"},[o("div",{staticClass:"sticky"}),t._v(" "),t._l(t.sortedOptions,(function(e){return o("VoteTableHeader",{key:e.id,attrs:{option:e,"poll-type":t.poll.type}})}))],2),t._v(" "),t._l(t.participants,(function(e){return o("div",{key:e.userId,class:{currentuser:e.userId===t.currentUser}},[o("UserDiv",{key:e.userId,staticClass:"sticky",class:{currentuser:e.userId===t.currentUser},attrs:{"user-id":e.userId,"display-name":e.displayName}}),t._v(" "),t._l(t.sortedOptions,(function(i){return o("VoteTableItem",{key:i.id,attrs:{"user-id":e.userId,option:i},on:{voteClick:function(o){return t.setVote(i,e.userId)}}})}))],2)}))],2)}),[],!1,null,"c0f0eeea",null).exports);function Gt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function Wt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Yt={name:"Vote",components:{AppContent:n.AppContent,Subscription:p,ParticipantsList:b,PollDescription:h,PollInformation:I,PollTitle:A,LoadingOverlay:_.a,VoteHeaderPublic:L,SideBar:wt,VoteTable:Et,VoteList:Dt},data:function(){return{voteSaved:!1,delay:50,sideBarOpen:window.innerWidth>920,isLoading:!0,initialTab:"comments",tableMode:!0,activeTab:"comments"}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(o),!0).forEach((function(e){Wt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Gt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.e)({poll:function(t){return t.poll},acl:function(t){return t.acl},options:function(t){return t.options}}),{windowTitle:function(){return t("polls","Polls")+" - "+this.poll.title}}),watch:{$route:function(){this.loadPoll()}},mounted:function(){this.loadPoll()},methods:{openOptions:function(){this.sideBarOpen=!0,this.activeTab="options"},openConfiguration:function(){this.sideBarOpen=!0,this.activeTab="configuration"},loadPoll:function(){var t=this;this.isLoading=!0,this.$store.dispatch({type:"loadPollMain",pollId:this.$route.params.id,token:this.$route.params.token}).then((function(e){200===e.status?t.$store.dispatch({type:"loadPoll",pollId:t.$route.params.id,token:t.$route.params.token}).then((function(){t.acl.allowEdit&&moment.unix(t.poll.created).diff()>-1e4&&t.openConfiguration(),t.isLoading=!1})):t.$router.replace({name:"notfound"})})).catch((function(e){console.error(e),t.isLoading=!1,t.$router.replace({name:"notfound"})}))},toggleSideBar:function(){this.sideBarOpen=!this.sideBarOpen}}},Ut=(i(812),Object(c.a)(Yt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("AppContent",[o("div",{staticClass:"main-container"},[o("div",{staticClass:"header-actions"},[o("button",{staticClass:"button btn primary",on:{click:function(e){t.tableMode=!t.tableMode}}},[o("span",[t._v(t._s(t.t("polls","Switch view")))])]),t._v(" "),o("a",{staticClass:"icon icon-settings active",attrs:{href:"#",title:t.t("polls","Open Sidebar")},on:{click:function(e){return t.toggleSideBar()}}})]),t._v(" "),o("PollTitle"),t._v(" "),o("PollInformation"),t._v(" "),t.OC.currentUser?t._e():o("VoteHeaderPublic"),t._v(" "),o("PollDescription"),t._v(" "),o("VoteList",{directives:[{name:"show",rawName:"v-show",value:!t.tableMode&&t.options.list.length,expression:"!tableMode && options.list.length"}]}),t._v(" "),o("VoteTable",{directives:[{name:"show",rawName:"v-show",value:t.tableMode&&t.options.list.length,expression:"tableMode && options.list.length"}]}),t._v(" "),t.options.list.length?t._e():o("div",{staticClass:"emptycontent"},[o("div",{staticClass:"icon-toggle-filelist"}),t._v(" "),t.acl.allowEdit?o("button",{on:{click:t.openOptions}},[t._v("\n\t\t\t\t"+t._s(t.t("polls","There are no vote options, add some in the options section of the right side bar."))+"\n\t\t\t")]):t._e(),t._v(" "),t.acl.allowEdit?t._e():o("div",[t._v("\n\t\t\t\t"+t._s(t.t("polls","There are no vote options. Maybe the owner did not provide some until now."))+"\n\t\t\t")])]),t._v(" "),t.OC.currentUser?o("Subscription"):t._e(),t._v(" "),o("div",{staticClass:"additional"},[t.acl.allowSeeUsernames?o("ParticipantsList"):t._e()],1)],1),t._v(" "),t.sideBarOpen?o("SideBar",{attrs:{active:t.activeTab},on:{closeSideBar:t.toggleSideBar}}):t._e(),t._v(" "),t.isLoading?o("LoadingOverlay"):t._e()],1)}),[],!1,null,"1f9429dc",null));o.default=Ut.exports}}]);
//# sourceMappingURL=polls.1.f55b76ff57f3af3969b1.js.map